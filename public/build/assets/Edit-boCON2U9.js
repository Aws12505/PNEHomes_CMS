import{c as Be,u as He,j as s,H as Re}from"./app-Dhpdlp56.js";import{X as Fe,A as Le}from"./app-layout-U9yuTlde.js";import{B as b}from"./app-logo-icon-GDspwazg.js";import{I as u}from"./input-C0i0wz5K.js";import{L as d}from"./label-BT8hvlOj.js";import{S as Ge}from"./switch-BflzmRPN.js";import{b as V,C as xe,a as ge,c as X}from"./card-DdFGy9zQ.js";import{I as q}from"./IdPickerButton-DfpFGSII.js";import{P as ze}from"./plus-Nx7coeLd.js";import{T as $e}from"./trash-2-BJDd7MWh.js";/* empty css            */import"./index-D1gIiASI.js";import"./index-CiFRKA6-.js";import"./index-T61tjutk.js";function ts(Oe){const e=Be.c(135),{album:c}=Oe;let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[{title:"Gallery",href:"/admin/gallery-albums"},{title:"Edit Album",href:"#"}],e[0]=K):K=e[0];const Te=K,fe=c.title||"",je=c.cover_image_id||"",pe=c.has_sub_albums??!1,ve=c.order||0,Ne=c.is_active??!0;let h;e[1]!==c.sub_albums?(h=c.sub_albums||[],e[1]=c.sub_albums,e[2]=h):h=e[2];let _;e[3]!==c.images?(_=c.images||[],e[3]=c.images,e[4]=_):_=e[4];let M;e[5]!==fe||e[6]!==je||e[7]!==pe||e[8]!==ve||e[9]!==Ne||e[10]!==h||e[11]!==_?(M={title:fe,cover_image_id:je,has_sub_albums:pe,order:ve,is_active:Ne,sub_albums:h,images:_},e[5]=fe,e[6]=je,e[7]=pe,e[8]=ve,e[9]=Ne,e[10]=h,e[11]=_,e[12]=M):M=e[12];const{data:l,setData:a,put:ye,processing:Q,errors:o}=He(M);let W;e[13]!==c.id||e[14]!==ye?(W=t=>{t.preventDefault(),ye(`/admin/gallery-albums/${c.id}`)},e[13]=c.id,e[14]=ye,e[15]=W):W=e[15];const Ce=W;let Y;e[16]!==l.sub_albums||e[17]!==a?(Y=()=>{a("sub_albums",[...l.sub_albums,{title:"",cover_image_id:"",images:[]}])},e[16]=l.sub_albums,e[17]=a,e[18]=Y):Y=e[18];const Se=Y;let Z;e[19]!==l.sub_albums||e[20]!==a?(Z=(t,i,m)=>{const r=[...l.sub_albums];r[t]={...r[t],[i]:m},a("sub_albums",r)},e[19]=l.sub_albums,e[20]=a,e[21]=Z):Z=e[21];const J=Z;let ee;e[22]!==l.sub_albums||e[23]!==a?(ee=t=>{a("sub_albums",l.sub_albums.filter((i,m)=>m!==t))},e[22]=l.sub_albums,e[23]=a,e[24]=ee):ee=e[24];const Ae=ee;let se;e[25]!==l.sub_albums||e[26]!==a?(se=t=>{const i=[...l.sub_albums];i[t].images.push({virtual_image_id:"",real_image_id:""}),a("sub_albums",i)},e[25]=l.sub_albums,e[26]=a,e[27]=se):se=e[27];const we=se;let le;e[28]!==l.sub_albums||e[29]!==a?(le=(t,i,m,r)=>{const n=[...l.sub_albums];n[t].images[i][m]=r,a("sub_albums",n)},e[28]=l.sub_albums,e[29]=a,e[30]=le):le=e[30];const x=le;let ae;e[31]!==l.sub_albums||e[32]!==a?(ae=(t,i)=>{const m=[...l.sub_albums];m[t].images=m[t].images.filter((r,n)=>n!==i),a("sub_albums",m)},e[31]=l.sub_albums,e[32]=a,e[33]=ae):ae=e[33];const ke=ae;let te;e[34]!==l.images||e[35]!==a?(te=()=>{a("images",[...l.images,{virtual_image_id:"",real_image_id:""}])},e[34]=l.images,e[35]=a,e[36]=te):te=e[36];const Ie=te;let ie;e[37]!==l.images||e[38]!==a?(ie=(t,i,m)=>{const r=[...l.images];r[t][i]=m,a("images",r)},e[37]=l.images,e[38]=a,e[39]=ie):ie=e[39];const g=ie;let me;e[40]!==l.images||e[41]!==a?(me=t=>{a("images",l.images.filter((i,m)=>m!==t))},e[40]=l.images,e[41]=a,e[42]=me):me=e[42];const De=me,Ee=`Edit Album - ${c.title}`;let f;e[43]!==Ee?(f=s.jsx(Re,{title:Ee}),e[43]=Ee,e[44]=f):f=e[44];let ce;e[45]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Gallery Album"})}),e[45]=ce):ce=e[45];let re;e[46]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(xe,{children:s.jsx(ge,{children:"Basic Information"})}),e[46]=re):re=e[46];let ne;e[47]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(d,{htmlFor:"title",children:"Title *"}),e[47]=ne):ne=e[47];let j;e[48]!==a?(j=t=>a("title",t.target.value),e[48]=a,e[49]=j):j=e[49];let p;e[50]!==l.title||e[51]!==j?(p=s.jsx(u,{id:"title",value:l.title,onChange:j,placeholder:"Enter album title"}),e[50]=l.title,e[51]=j,e[52]=p):p=e[52];let v;e[53]!==o.title?(v=o.title&&s.jsx("p",{className:"text-sm text-destructive",children:o.title}),e[53]=o.title,e[54]=v):v=e[54];let N;e[55]!==c.slug?(N=s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current slug: ",s.jsx("code",{children:c.slug})]}),e[55]=c.slug,e[56]=N):N=e[56];let y;e[57]!==p||e[58]!==v||e[59]!==N?(y=s.jsxs("div",{className:"space-y-2",children:[ne,p,v,N]}),e[57]=p,e[58]=v,e[59]=N,e[60]=y):y=e[60];let de;e[61]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(d,{htmlFor:"cover_image_id",children:"Cover Image ID (Google Drive) *"}),e[61]=de):de=e[61];let C;e[62]!==a?(C=t=>a("cover_image_id",t.target.value),e[62]=a,e[63]=C):C=e[63];let S;e[64]!==l.cover_image_id||e[65]!==C?(S=s.jsx(u,{id:"cover_image_id",value:l.cover_image_id,onChange:C,placeholder:"Enter Google Drive file ID"}),e[64]=l.cover_image_id,e[65]=C,e[66]=S):S=e[66];let A;e[67]!==a?(A=s.jsx(q,{onPick:t=>a("cover_image_id",t)}),e[67]=a,e[68]=A):A=e[68];let w;e[69]!==S||e[70]!==A?(w=s.jsxs("div",{className:"flex gap-2",children:[S,A]}),e[69]=S,e[70]=A,e[71]=w):w=e[71];let k;e[72]!==o.cover_image_id?(k=o.cover_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:o.cover_image_id}),e[72]=o.cover_image_id,e[73]=k):k=e[73];let I;e[74]!==w||e[75]!==k?(I=s.jsxs("div",{className:"space-y-2",children:[de,w,k]}),e[74]=w,e[75]=k,e[76]=I):I=e[76];let ue;e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(d,{htmlFor:"order",children:"Order"}),e[77]=ue):ue=e[77];let D;e[78]!==a?(D=t=>a("order",parseInt(t.target.value)||0),e[78]=a,e[79]=D):D=e[79];let E;e[80]!==l.order||e[81]!==D?(E=s.jsxs("div",{className:"space-y-2",children:[ue,s.jsx(u,{id:"order",type:"number",value:l.order,onChange:D})]}),e[80]=l.order,e[81]=D,e[82]=E):E=e[82];let P;e[83]!==a?(P=t=>a("is_active",t),e[83]=a,e[84]=P):P=e[84];let z;e[85]!==l.is_active||e[86]!==P?(z=s.jsx(Ge,{id:"is_active",checked:l.is_active,onCheckedChange:P}),e[85]=l.is_active,e[86]=P,e[87]=z):z=e[87];let oe;e[88]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(d,{htmlFor:"is_active",children:"Active"}),e[88]=oe):oe=e[88];let F;e[89]!==z?(F=s.jsxs("div",{className:"flex items-center space-x-2",children:[z,oe]}),e[89]=z,e[90]=F):F=e[90];let G;e[91]!==E||e[92]!==F?(G=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E,F]}),e[91]=E,e[92]=F,e[93]=G):G=e[93];let O;e[94]!==a?(O=t=>{a("has_sub_albums",t),t?a("images",[]):a("sub_albums",[])},e[94]=a,e[95]=O):O=e[95];let T;e[96]!==l.has_sub_albums||e[97]!==O?(T=s.jsx(Ge,{id:"has_sub_albums",checked:l.has_sub_albums,onCheckedChange:O}),e[96]=l.has_sub_albums,e[97]=O,e[98]=T):T=e[98];let be;e[99]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(d,{htmlFor:"has_sub_albums",children:"Has Sub-Albums"}),e[99]=be):be=e[99];let B;e[100]!==T?(B=s.jsxs("div",{className:"flex items-center space-x-2",children:[T,be]}),e[100]=T,e[101]=B):B=e[101];let H;e[102]!==y||e[103]!==I||e[104]!==G||e[105]!==B?(H=s.jsxs(V,{children:[re,s.jsxs(X,{className:"space-y-4",children:[y,I,G,B]})]}),e[102]=y,e[103]=I,e[104]=G,e[105]=B,e[106]=H):H=e[106];let R;e[107]!==Se||e[108]!==we||e[109]!==l.has_sub_albums||e[110]!==l.sub_albums||e[111]!==Ae||e[112]!==ke||e[113]!==J||e[114]!==x?(R=l.has_sub_albums&&s.jsxs(V,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{children:"Sub-Albums"}),s.jsxs(b,{type:"button",onClick:Se,size:"sm",children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Sub-Album"]})]})}),s.jsx(X,{className:"space-y-6",children:l.sub_albums.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No sub-albums added yet. Click "Add Sub-Album" to get started.'}):l.sub_albums.map((t,i)=>s.jsxs(V,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ge,{className:"text-base",children:["Sub-Album ",i+1]}),s.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ae(i),children:s.jsx($e,{className:"h-4 w-4 text-destructive"})})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Title *"}),s.jsx(u,{value:t.title,onChange:m=>J(i,"title",m.target.value),placeholder:"Enter sub-album title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Cover Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{value:t.cover_image_id,onChange:m=>J(i,"cover_image_id",m.target.value),placeholder:"Google Drive file ID"}),s.jsx(q,{onPick:m=>J(i,"cover_image_id",m)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(d,{children:"Images"}),s.jsxs(b,{type:"button",variant:"outline",size:"sm",onClick:()=>we(i),children:[s.jsx(ze,{className:"mr-2 h-3 w-3"}),"Add Image"]})]}),t.images.length===0?s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No images added"}):s.jsx("div",{className:"space-y-3",children:t.images.map((m,r)=>s.jsx(V,{children:s.jsxs(X,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-medium",children:["Image ",r+1]}),s.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:()=>ke(i,r),children:s.jsx(Fe,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{className:"text-xs",children:"Virtual Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{value:m.virtual_image_id,onChange:n=>x(i,r,"virtual_image_id",n.target.value),placeholder:"Optional"}),s.jsx(q,{onPick:n=>x(i,r,"virtual_image_id",n)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{className:"text-xs",children:"Real Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{value:m.real_image_id,onChange:n=>x(i,r,"real_image_id",n.target.value),placeholder:"Optional"}),s.jsx(q,{onPick:n=>x(i,r,"real_image_id",n)})]})]})]})},r))})]})]})]},i))})]}),e[107]=Se,e[108]=we,e[109]=l.has_sub_albums,e[110]=l.sub_albums,e[111]=Ae,e[112]=ke,e[113]=J,e[114]=x,e[115]=R):R=e[115];let L;e[116]!==Ie||e[117]!==l.has_sub_albums||e[118]!==l.images||e[119]!==De||e[120]!==g?(L=!l.has_sub_albums&&s.jsxs(V,{children:[s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{children:"Images"}),s.jsxs(b,{type:"button",onClick:Ie,size:"sm",children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Image"]})]})}),s.jsx(X,{className:"space-y-4",children:l.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No images added yet. Click "Add Image" to get started.'}):l.images.map((t,i)=>s.jsx(V,{children:s.jsxs(X,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",i+1]}),s.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:()=>De(i),children:s.jsx(Fe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Virtual Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{value:t.virtual_image_id,onChange:m=>g(i,"virtual_image_id",m.target.value),placeholder:"Optional"}),s.jsx(q,{onPick:m=>g(i,"virtual_image_id",m)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Real Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(u,{value:t.real_image_id,onChange:m=>g(i,"real_image_id",m.target.value),placeholder:"Optional"}),s.jsx(q,{onPick:m=>g(i,"real_image_id",m)})]})]})]})},i))})]}),e[116]=Ie,e[117]=l.has_sub_albums,e[118]=l.images,e[119]=De,e[120]=g,e[121]=L):L=e[121];let he;e[122]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(b,{type:"button",variant:"outline",onClick:Ue,children:"Cancel"}),e[122]=he):he=e[122];const Pe=Q?"Updating...":"Update Album";let $;e[123]!==Q||e[124]!==Pe?($=s.jsxs("div",{className:"flex justify-end gap-2",children:[he,s.jsx(b,{type:"submit",disabled:Q,children:Pe})]}),e[123]=Q,e[124]=Pe,e[125]=$):$=e[125];let U;e[126]!==Ce||e[127]!==H||e[128]!==R||e[129]!==L||e[130]!==$?(U=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[ce,s.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[H,R,L,$]})]}),e[126]=Ce,e[127]=H,e[128]=R,e[129]=L,e[130]=$,e[131]=U):U=e[131];let _e;return e[132]!==f||e[133]!==U?(_e=s.jsxs(Le,{breadcrumbs:Te,children:[f,U]}),e[132]=f,e[133]=U,e[134]=_e):_e=e[134],_e}function Ue(){return window.history.back()}export{ts as default};
