import{c as Ye,u as Ze,j as t,H as et}from"./app-D_vK85IK.js";import{X as tt,A as lt}from"./app-layout-DGDbPnk5.js";import{B as De}from"./app-logo-icon-D3lW0Ur5.js";import{I as o}from"./input-B-_RtOjK.js";import{T as qe}from"./textarea-CdRkSt9G.js";import{L as c}from"./label-DIlrbBFL.js";import{S as st}from"./switch-CKpm4ezn.js";import{C as Je,a as Ke,b as Me,c as Qe}from"./card-ahLqu4lb.js";import{I as Xe}from"./IdPickerButton-CQbYGXgq.js";import{P as it}from"./plus-Cxj02whr.js";/* empty css            */import"./index-B7SszltV.js";import"./index-By2g35PJ.js";import"./index-Cy5ipuhJ.js";function jt(Fe){const e=Ye.c(170),{community:r}=Fe;let ie;e[0]===Symbol.for("react.memo_cache_sentinel")?(ie=[{title:"Communities",href:"/admin/communities"},{title:"Edit",href:"#"}],e[0]=ie):ie=e[0];const We=ie,ke=r.title||"",we=r.slug||"",Ge=r.city||"",Pe=r.address||"",Ae=r.card_image_id||"",Be=r.video_id||"",Te=r.community_features||"",$e=r.starting_price||"",He=r.order||0;let m;e[1]!==r.gallery?(m=r.gallery?.map(rt)||[],e[1]=r.gallery,e[2]=m):m=e[2];let ae;e[3]!==r.is_active||e[4]!==He||e[5]!==m||e[6]!==ke||e[7]!==we||e[8]!==Ge||e[9]!==Pe||e[10]!==Ae||e[11]!==Be||e[12]!==Te||e[13]!==$e?(ae={title:ke,slug:we,city:Ge,address:Pe,card_image_id:Ae,video_id:Be,community_features:Te,starting_price:$e,order:He,is_active:r.is_active,gallery:m},e[3]=r.is_active,e[4]=He,e[5]=m,e[6]=ke,e[7]=we,e[8]=Ge,e[9]=Pe,e[10]=Ae,e[11]=Be,e[12]=Te,e[13]=$e,e[14]=ae):ae=e[14];const{data:s,setData:l,put:Le,processing:re,errors:a}=Ze(ae);let ce;e[15]!==r.id||e[16]!==Le?(ce=i=>{i.preventDefault(),Le(`/admin/communities/${r.id}`)},e[15]=r.id,e[16]=Le,e[17]=ce):ce=e[17];const ze=ce;let de;e[18]!==s.gallery||e[19]!==l?(de=()=>{l("gallery",[...s.gallery,""])},e[18]=s.gallery,e[19]=l,e[20]=de):de=e[20];const Re=de;let oe;e[21]!==s.gallery||e[22]!==l?(oe=(i,n)=>{const d=[...s.gallery];d[i]=n,l("gallery",d)},e[21]=s.gallery,e[22]=l,e[23]=oe):oe=e[23];const ne=oe;let me;e[24]!==s.gallery||e[25]!==l?(me=i=>{l("gallery",s.gallery.filter((n,d)=>d!==i))},e[24]=s.gallery,e[25]=l,e[26]=me):me=e[26];const Ue=me,Oe=`Edit Community - ${r.title}`;let f;e[27]!==Oe?(f=t.jsx(et,{title:Oe}),e[27]=Oe,e[28]=f):f=e[28];let fe;e[29]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Community"})}),e[29]=fe):fe=e[29];let ge;e[30]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Je,{children:t.jsx(Ke,{children:"Basic Information"})}),e[30]=ge):ge=e[30];let he;e[31]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(c,{htmlFor:"title",children:"Title *"}),e[31]=he):he=e[31];let g;e[32]!==l?(g=i=>l("title",i.target.value),e[32]=l,e[33]=g):g=e[33];let h;e[34]!==s.title||e[35]!==g?(h=t.jsx(o,{id:"title",value:s.title,onChange:g,placeholder:"Enter community title"}),e[34]=s.title,e[35]=g,e[36]=h):h=e[36];let u;e[37]!==a.title?(u=a.title&&t.jsx("p",{className:"text-sm text-destructive",children:a.title}),e[37]=a.title,e[38]=u):u=e[38];let _;e[39]!==h||e[40]!==u?(_=t.jsxs("div",{className:"space-y-2",children:[he,h,u]}),e[39]=h,e[40]=u,e[41]=_):_=e[41];let ue;e[42]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(c,{htmlFor:"slug",children:"Slug"}),e[42]=ue):ue=e[42];let x;e[43]!==l?(x=i=>l("slug",i.target.value),e[43]=l,e[44]=x):x=e[44];let y;e[45]!==s.slug||e[46]!==x?(y=t.jsxs("div",{className:"space-y-2",children:[ue,t.jsx(o,{id:"slug",value:s.slug,onChange:x,placeholder:"auto-generated-from-title"})]}),e[45]=s.slug,e[46]=x,e[47]=y):y=e[47];let p;e[48]!==_||e[49]!==y?(p=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_,y]}),e[48]=_,e[49]=y,e[50]=p):p=e[50];let _e;e[51]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(c,{htmlFor:"city",children:"City *"}),e[51]=_e):_e=e[51];let v;e[52]!==l?(v=i=>l("city",i.target.value),e[52]=l,e[53]=v):v=e[53];let j;e[54]!==s.city||e[55]!==v?(j=t.jsx(o,{id:"city",value:s.city,onChange:v,placeholder:"Enter city name"}),e[54]=s.city,e[55]=v,e[56]=j):j=e[56];let N;e[57]!==a.city?(N=a.city&&t.jsx("p",{className:"text-sm text-destructive",children:a.city}),e[57]=a.city,e[58]=N):N=e[58];let b;e[59]!==j||e[60]!==N?(b=t.jsxs("div",{className:"space-y-2",children:[_e,j,N]}),e[59]=j,e[60]=N,e[61]=b):b=e[61];let xe;e[62]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(c,{htmlFor:"starting_price",children:"Starting Price *"}),e[62]=xe):xe=e[62];let C;e[63]!==l?(C=i=>l("starting_price",i.target.value),e[63]=l,e[64]=C):C=e[64];let S;e[65]!==s.starting_price||e[66]!==C?(S=t.jsx(o,{id:"starting_price",value:s.starting_price,onChange:C,placeholder:"e.g., $500,000"}),e[65]=s.starting_price,e[66]=C,e[67]=S):S=e[67];let I;e[68]!==a.starting_price?(I=a.starting_price&&t.jsx("p",{className:"text-sm text-destructive",children:a.starting_price}),e[68]=a.starting_price,e[69]=I):I=e[69];let E;e[70]!==S||e[71]!==I?(E=t.jsxs("div",{className:"space-y-2",children:[xe,S,I]}),e[70]=S,e[71]=I,e[72]=E):E=e[72];let D;e[73]!==b||e[74]!==E?(D=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b,E]}),e[73]=b,e[74]=E,e[75]=D):D=e[75];let ye;e[76]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(c,{htmlFor:"address",children:"Address *"}),e[76]=ye):ye=e[76];let F;e[77]!==l?(F=i=>l("address",i.target.value),e[77]=l,e[78]=F):F=e[78];let k;e[79]!==s.address||e[80]!==F?(k=t.jsx(qe,{id:"address",value:s.address,onChange:F,placeholder:"Enter full address",rows:3}),e[79]=s.address,e[80]=F,e[81]=k):k=e[81];let w;e[82]!==a.address?(w=a.address&&t.jsx("p",{className:"text-sm text-destructive",children:a.address}),e[82]=a.address,e[83]=w):w=e[83];let G;e[84]!==k||e[85]!==w?(G=t.jsxs("div",{className:"space-y-2",children:[ye,k,w]}),e[84]=k,e[85]=w,e[86]=G):G=e[86];let pe;e[87]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(c,{htmlFor:"card_image_id",children:"Card Image ID (Google Drive) *"}),e[87]=pe):pe=e[87];let P;e[88]!==l?(P=i=>l("card_image_id",i.target.value),e[88]=l,e[89]=P):P=e[89];let A;e[90]!==s.card_image_id||e[91]!==P?(A=t.jsx(o,{id:"card_image_id",value:s.card_image_id,onChange:P,placeholder:"Enter Google Drive file ID"}),e[90]=s.card_image_id,e[91]=P,e[92]=A):A=e[92];let B;e[93]!==l?(B=t.jsx(Xe,{onPick:i=>l("card_image_id",i)}),e[93]=l,e[94]=B):B=e[94];let T;e[95]!==A||e[96]!==B?(T=t.jsxs("div",{className:"flex gap-2",children:[A,B]}),e[95]=A,e[96]=B,e[97]=T):T=e[97];let $;e[98]!==a.card_image_id?($=a.card_image_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.card_image_id}),e[98]=a.card_image_id,e[99]=$):$=e[99];let H;e[100]!==T||e[101]!==$?(H=t.jsxs("div",{className:"space-y-2",children:[pe,T,$]}),e[100]=T,e[101]=$,e[102]=H):H=e[102];let ve;e[103]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(c,{htmlFor:"video_id",children:"Video ID (Google Drive)"}),e[103]=ve):ve=e[103];let L;e[104]!==l?(L=i=>l("video_id",i.target.value),e[104]=l,e[105]=L):L=e[105];let z;e[106]!==s.video_id||e[107]!==L?(z=t.jsx(o,{id:"video_id",value:s.video_id,onChange:L,placeholder:"Enter Google Drive video file ID"}),e[106]=s.video_id,e[107]=L,e[108]=z):z=e[108];let R;e[109]!==l?(R=t.jsx(Xe,{onPick:i=>l("video_id",i)}),e[109]=l,e[110]=R):R=e[110];let U;e[111]!==z||e[112]!==R?(U=t.jsxs("div",{className:"space-y-2",children:[ve,t.jsxs("div",{className:"flex gap-2",children:[z,R]})]}),e[111]=z,e[112]=R,e[113]=U):U=e[113];let je;e[114]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(c,{htmlFor:"community_features",children:"Community Features"}),e[114]=je):je=e[114];let O;e[115]!==l?(O=i=>l("community_features",i.target.value),e[115]=l,e[116]=O):O=e[116];let V;e[117]!==s.community_features||e[118]!==O?(V=t.jsxs("div",{className:"space-y-2",children:[je,t.jsx(qe,{id:"community_features",value:s.community_features,onChange:O,placeholder:"Enter community features",rows:4})]}),e[117]=s.community_features,e[118]=O,e[119]=V):V=e[119];let Ne;e[120]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(c,{htmlFor:"order",children:"Order"}),e[120]=Ne):Ne=e[120];let X;e[121]!==l?(X=i=>l("order",parseInt(i.target.value)||0),e[121]=l,e[122]=X):X=e[122];let q;e[123]!==s.order||e[124]!==X?(q=t.jsxs("div",{className:"space-y-2",children:[Ne,t.jsx(o,{id:"order",type:"number",value:s.order,onChange:X})]}),e[123]=s.order,e[124]=X,e[125]=q):q=e[125];let J;e[126]!==l?(J=i=>l("is_active",i),e[126]=l,e[127]=J):J=e[127];let K;e[128]!==s.is_active||e[129]!==J?(K=t.jsx(st,{id:"is_active",checked:s.is_active,onCheckedChange:J}),e[128]=s.is_active,e[129]=J,e[130]=K):K=e[130];let be;e[131]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(c,{htmlFor:"is_active",children:"Active"}),e[131]=be):be=e[131];let M;e[132]!==K?(M=t.jsxs("div",{className:"flex items-center space-x-2",children:[K,be]}),e[132]=K,e[133]=M):M=e[133];let Q;e[134]!==q||e[135]!==M?(Q=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q,M]}),e[134]=q,e[135]=M,e[136]=Q):Q=e[136];let W;e[137]!==p||e[138]!==D||e[139]!==G||e[140]!==H||e[141]!==U||e[142]!==V||e[143]!==Q?(W=t.jsxs(Me,{children:[ge,t.jsxs(Qe,{className:"space-y-4",children:[p,D,G,H,U,V,Q]})]}),e[137]=p,e[138]=D,e[139]=G,e[140]=H,e[141]=U,e[142]=V,e[143]=Q,e[144]=W):W=e[144];let Ce;e[145]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(Ke,{children:"Gallery Images"}),e[145]=Ce):Ce=e[145];let Se;e[146]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(it,{className:"mr-2 h-4 w-4"}),e[146]=Se):Se=e[146];let Y;e[147]!==Re?(Y=t.jsx(Je,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[Ce,t.jsxs(De,{type:"button",onClick:Re,size:"sm",children:[Se,"Add Image"]})]})}),e[147]=Re,e[148]=Y):Y=e[148];let Z;e[149]!==s.gallery||e[150]!==Ue||e[151]!==ne?(Z=s.gallery.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No images added yet. Click "Add Image" to get started.'}):s.gallery.map((i,n)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{value:i,onChange:d=>ne(n,d.target.value),placeholder:"Enter Google Drive file ID"}),t.jsx(Xe,{onPick:d=>ne(n,d)}),t.jsx(De,{type:"button",variant:"outline",size:"icon",onClick:()=>Ue(n),children:t.jsx(tt,{className:"h-4 w-4"})})]},n)),e[149]=s.gallery,e[150]=Ue,e[151]=ne,e[152]=Z):Z=e[152];let ee;e[153]!==Z?(ee=t.jsx(Qe,{className:"space-y-4",children:Z}),e[153]=Z,e[154]=ee):ee=e[154];let te;e[155]!==Y||e[156]!==ee?(te=t.jsxs(Me,{children:[Y,ee]}),e[155]=Y,e[156]=ee,e[157]=te):te=e[157];let Ie;e[158]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(De,{type:"button",variant:"outline",onClick:at,children:"Cancel"}),e[158]=Ie):Ie=e[158];const Ve=re?"Updating...":"Update Community";let le;e[159]!==re||e[160]!==Ve?(le=t.jsxs("div",{className:"flex justify-end gap-2",children:[Ie,t.jsx(De,{type:"submit",disabled:re,children:Ve})]}),e[159]=re,e[160]=Ve,e[161]=le):le=e[161];let se;e[162]!==ze||e[163]!==W||e[164]!==te||e[165]!==le?(se=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[fe,t.jsxs("form",{onSubmit:ze,className:"space-y-6",children:[W,te,le]})]}),e[162]=ze,e[163]=W,e[164]=te,e[165]=le,e[166]=se):se=e[166];let Ee;return e[167]!==f||e[168]!==se?(Ee=t.jsxs(lt,{breadcrumbs:We,children:[f,se]}),e[167]=f,e[168]=se,e[169]=Ee):Ee=e[169],Ee}function at(){return window.history.back()}function rt(Fe){return Fe.image_id}export{jt as default};
