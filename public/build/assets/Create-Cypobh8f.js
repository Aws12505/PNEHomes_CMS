import{c as Fe,u as Re,j as s,H as ze}from"./app-Bo3nIbFJ.js";import{X as Ge,A as Ee}from"./app-layout-7UtwL5Iy.js";import{B as u}from"./app-logo-icon-DmdGzYyq.js";import{I as d}from"./input-D5mWRI1T.js";import{L as c}from"./label-Byv_9QwQ.js";import{S as Te}from"./switch-HHLxYctf.js";import{b as P,C as De,a as we,c as O}from"./card-DRuNVli2.js";import{R as ke,a as Ve}from"./radio-group-td1-2Hwc.js";import{P as Ae}from"./plus-MUAbABQC.js";import{T as Be}from"./trash-2-lXVc3x-O.js";/* empty css            */import"./index-N7ICwahw.js";import"./index-BfV7bET_.js";import"./index-Cy5ipuhJ.js";const He=[{title:"Gallery Albums",href:"/admin/gallery-albums"},{title:"Create",href:"#"}];function ss(){const e=Fe.c(130);let W;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={title:"",slug:"",cover_virtual_image_id:"",cover_real_image_id:"",has_sub_albums:!1,order:0,is_active:!0,sub_albums:[],images:[]},e[0]=W):W=e[0];const{data:l,setData:a,post:be,processing:X,errors:o}=Re(W);let $;e[1]!==be?($=t=>{t.preventDefault(),be("/admin/gallery-albums")},e[1]=be,e[2]=$):$=e[2];const xe=$;let q;e[3]!==l.sub_albums||e[4]!==a?(q=()=>{a("sub_albums",[...l.sub_albums,{slug:"",title:"",cover_virtual_image_id:"",cover_real_image_id:"",images:[]}])},e[3]=l.sub_albums,e[4]=a,e[5]=q):q=e[5];const fe=q;let J;e[6]!==l.sub_albums||e[7]!==a?(J=(t,i,r)=>{const m=[...l.sub_albums];m[t][i]=r,a("sub_albums",m)},e[6]=l.sub_albums,e[7]=a,e[8]=J):J=e[8];const _=J;let K;e[9]!==l.sub_albums||e[10]!==a?(K=t=>{a("sub_albums",l.sub_albums.filter((i,r)=>r!==t))},e[9]=l.sub_albums,e[10]=a,e[11]=K):K=e[11];const je=K;let M;e[12]!==l.sub_albums||e[13]!==a?(M=t=>{const i=[...l.sub_albums];i[t].images.push({virtual_image_id:"",real_image_id:""}),a("sub_albums",i)},e[12]=l.sub_albums,e[13]=a,e[14]=M):M=e[14];const pe=M;let Q;e[15]!==l.sub_albums||e[16]!==a?(Q=(t,i,r,m)=>{const n=[...l.sub_albums];n[t].images[i][r]=m,a("sub_albums",n)},e[15]=l.sub_albums,e[16]=a,e[17]=Q):Q=e[17];const U=Q;let Y;e[18]!==l.sub_albums||e[19]!==a?(Y=(t,i)=>{const r=[...l.sub_albums];r[t].images=r[t].images.filter((m,n)=>n!==i),a("sub_albums",r)},e[18]=l.sub_albums,e[19]=a,e[20]=Y):Y=e[20];const ye=Y;let Z;e[21]!==l.images||e[22]!==a?(Z=()=>{a("images",[...l.images,{virtual_image_id:"",real_image_id:""}])},e[21]=l.images,e[22]=a,e[23]=Z):Z=e[23];const Ne=Z;let ee;e[24]!==l.images||e[25]!==a?(ee=(t,i,r)=>{const m=[...l.images];m[t][i]=r,a("images",m)},e[24]=l.images,e[25]=a,e[26]=ee):ee=e[26];const se=ee;let le;e[27]!==l.images||e[28]!==a?(le=t=>{a("images",l.images.filter((i,r)=>r!==t))},e[27]=l.images,e[28]=a,e[29]=le):le=e[29];const Ce=le;let ae;e[30]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(ze,{title:"Create Gallery Album"}),e[30]=ae):ae=e[30];let te;e[31]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Create Gallery Album"})}),e[31]=te):te=e[31];let ie;e[32]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(De,{children:s.jsx(we,{children:"Basic Information"})}),e[32]=ie):ie=e[32];let re;e[33]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(c,{htmlFor:"title",children:"Title *"}),e[33]=re):re=e[33];let h;e[34]!==a?(h=t=>a("title",t.target.value),e[34]=a,e[35]=h):h=e[35];let g;e[36]!==l.title||e[37]!==h?(g=s.jsx(d,{id:"title",value:l.title,onChange:h,placeholder:"Enter album title"}),e[36]=l.title,e[37]=h,e[38]=g):g=e[38];let v;e[39]!==o.title?(v=o.title&&s.jsx("p",{className:"text-sm text-destructive",children:o.title}),e[39]=o.title,e[40]=v):v=e[40];let b;e[41]!==g||e[42]!==v?(b=s.jsxs("div",{className:"space-y-2",children:[re,g,v]}),e[41]=g,e[42]=v,e[43]=b):b=e[43];let ce;e[44]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(c,{htmlFor:"slug",children:"Slug"}),e[44]=ce):ce=e[44];let x;e[45]!==a?(x=t=>a("slug",t.target.value),e[45]=a,e[46]=x):x=e[46];let f;e[47]!==l.slug||e[48]!==x?(f=s.jsxs("div",{className:"space-y-2",children:[ce,s.jsx(d,{id:"slug",value:l.slug,onChange:x,placeholder:"auto-generated-from-title"})]}),e[47]=l.slug,e[48]=x,e[49]=f):f=e[49];let j;e[50]!==b||e[51]!==f?(j=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b,f]}),e[50]=b,e[51]=f,e[52]=j):j=e[52];let me;e[53]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(c,{htmlFor:"cover_virtual_image_id",children:"Cover Virtual Image ID *"}),e[53]=me):me=e[53];let p;e[54]!==a?(p=t=>a("cover_virtual_image_id",t.target.value),e[54]=a,e[55]=p):p=e[55];let y;e[56]!==l.cover_virtual_image_id||e[57]!==p?(y=s.jsx(d,{id:"cover_virtual_image_id",value:l.cover_virtual_image_id,onChange:p,placeholder:"Enter Google Drive file ID"}),e[56]=l.cover_virtual_image_id,e[57]=p,e[58]=y):y=e[58];let N;e[59]!==o.cover_virtual_image_id?(N=o.cover_virtual_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:o.cover_virtual_image_id}),e[59]=o.cover_virtual_image_id,e[60]=N):N=e[60];let C;e[61]!==y||e[62]!==N?(C=s.jsxs("div",{className:"space-y-2",children:[me,y,N]}),e[61]=y,e[62]=N,e[63]=C):C=e[63];let de;e[64]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(c,{htmlFor:"cover_real_image_id",children:"Cover Real Image ID *"}),e[64]=de):de=e[64];let S;e[65]!==a?(S=t=>a("cover_real_image_id",t.target.value),e[65]=a,e[66]=S):S=e[66];let I;e[67]!==l.cover_real_image_id||e[68]!==S?(I=s.jsx(d,{id:"cover_real_image_id",value:l.cover_real_image_id,onChange:S,placeholder:"Enter Google Drive file ID"}),e[67]=l.cover_real_image_id,e[68]=S,e[69]=I):I=e[69];let D;e[70]!==o.cover_real_image_id?(D=o.cover_real_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:o.cover_real_image_id}),e[70]=o.cover_real_image_id,e[71]=D):D=e[71];let w;e[72]!==I||e[73]!==D?(w=s.jsxs("div",{className:"space-y-2",children:[de,I,D]}),e[72]=I,e[73]=D,e[74]=w):w=e[74];let A;e[75]!==C||e[76]!==w?(A=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C,w]}),e[75]=C,e[76]=w,e[77]=A):A=e[77];let oe;e[78]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(c,{children:"Album Type *"}),e[78]=oe):oe=e[78];const Se=l.has_sub_albums?"sub_albums":"direct";let G;e[79]!==a?(G=t=>a("has_sub_albums",t==="sub_albums"),e[79]=a,e[80]=G):G=e[80];let ne;e[81]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ke,{value:"direct",id:"direct"}),s.jsx(c,{htmlFor:"direct",children:"Direct Images"})]}),e[81]=ne):ne=e[81];let ue;e[82]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ke,{value:"sub_albums",id:"sub_albums"}),s.jsx(c,{htmlFor:"sub_albums",children:"With Sub Albums"})]}),e[82]=ue):ue=e[82];let k;e[83]!==Se||e[84]!==G?(k=s.jsxs("div",{className:"space-y-2",children:[oe,s.jsxs(Ve,{value:Se,onValueChange:G,children:[ne,ue]})]}),e[83]=Se,e[84]=G,e[85]=k):k=e[85];let _e;e[86]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(c,{htmlFor:"order",children:"Order"}),e[86]=_e):_e=e[86];let F;e[87]!==a?(F=t=>a("order",parseInt(t.target.value)||0),e[87]=a,e[88]=F):F=e[88];let R;e[89]!==l.order||e[90]!==F?(R=s.jsxs("div",{className:"space-y-2",children:[_e,s.jsx(d,{id:"order",type:"number",value:l.order,onChange:F})]}),e[89]=l.order,e[90]=F,e[91]=R):R=e[91];let z;e[92]!==a?(z=t=>a("is_active",t),e[92]=a,e[93]=z):z=e[93];let E;e[94]!==l.is_active||e[95]!==z?(E=s.jsx(Te,{id:"is_active",checked:l.is_active,onCheckedChange:z}),e[94]=l.is_active,e[95]=z,e[96]=E):E=e[96];let he;e[97]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(c,{htmlFor:"is_active",children:"Active"}),e[97]=he):he=e[97];let T;e[98]!==E?(T=s.jsxs("div",{className:"flex items-center space-x-2",children:[E,he]}),e[98]=E,e[99]=T):T=e[99];let V;e[100]!==R||e[101]!==T?(V=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R,T]}),e[100]=R,e[101]=T,e[102]=V):V=e[102];let B;e[103]!==j||e[104]!==A||e[105]!==k||e[106]!==V?(B=s.jsxs(P,{children:[ie,s.jsxs(O,{className:"space-y-4",children:[j,A,k,V]})]}),e[103]=j,e[104]=A,e[105]=k,e[106]=V,e[107]=B):B=e[107];let H;e[108]!==Ne||e[109]!==fe||e[110]!==pe||e[111]!==l.has_sub_albums||e[112]!==l.images||e[113]!==l.sub_albums||e[114]!==Ce||e[115]!==je||e[116]!==ye||e[117]!==se||e[118]!==_||e[119]!==U?(H=l.has_sub_albums?s.jsxs(P,{children:[s.jsx(De,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{children:"Sub Albums *"}),s.jsxs(u,{type:"button",onClick:fe,size:"sm",children:[s.jsx(Ae,{className:"mr-2 h-4 w-4"}),"Add Sub Album"]})]})}),s.jsx(O,{className:"space-y-4",children:l.sub_albums.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No sub albums added yet."}):l.sub_albums.map((t,i)=>s.jsx(P,{children:s.jsxs(O,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold",children:["Sub Album ",i+1]}),s.jsx(u,{type:"button",variant:"outline",size:"sm",onClick:()=>je(i),children:s.jsx(Be,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Title *"}),s.jsx(d,{value:t.title,onChange:r=>_(i,"title",r.target.value),placeholder:"Enter sub album title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Slug"}),s.jsx(d,{value:t.slug,onChange:r=>_(i,"slug",r.target.value),placeholder:"auto-generated"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Cover Virtual Image ID *"}),s.jsx(d,{value:t.cover_virtual_image_id,onChange:r=>_(i,"cover_virtual_image_id",r.target.value),placeholder:"Google Drive ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Cover Real Image ID *"}),s.jsx(d,{value:t.cover_real_image_id,onChange:r=>_(i,"cover_real_image_id",r.target.value),placeholder:"Google Drive ID"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(c,{children:"Images"}),s.jsxs(u,{type:"button",onClick:()=>pe(i),size:"sm",variant:"outline",children:[s.jsx(Ae,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),t.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No images added"}):s.jsx("div",{className:"space-y-2",children:t.images.map((r,m)=>s.jsx(P,{children:s.jsxs(O,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image"," ",m+1]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>ye(i,m),children:s.jsx(Ge,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(d,{value:r.virtual_image_id,onChange:n=>U(i,m,"virtual_image_id",n.target.value),placeholder:"Virtual Image ID"}),s.jsx(d,{value:r.real_image_id,onChange:n=>U(i,m,"real_image_id",n.target.value),placeholder:"Real Image ID"})]})]})},m))})]})]})},i))})]}):s.jsxs(P,{children:[s.jsx(De,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{children:"Images *"}),s.jsxs(u,{type:"button",onClick:Ne,size:"sm",children:[s.jsx(Ae,{className:"mr-2 h-4 w-4"}),"Add Image"]})]})}),s.jsx(O,{className:"space-y-4",children:l.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No images added yet."}):l.images.map((t,i)=>s.jsx(P,{children:s.jsxs(O,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",i+1]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ce(i),children:s.jsx(Ge,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Virtual Image ID *"}),s.jsx(d,{value:t.virtual_image_id,onChange:r=>se(i,"virtual_image_id",r.target.value),placeholder:"Google Drive ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Real Image ID *"}),s.jsx(d,{value:t.real_image_id,onChange:r=>se(i,"real_image_id",r.target.value),placeholder:"Google Drive ID"})]})]})]})},i))})]}),e[108]=Ne,e[109]=fe,e[110]=pe,e[111]=l.has_sub_albums,e[112]=l.images,e[113]=l.sub_albums,e[114]=Ce,e[115]=je,e[116]=ye,e[117]=se,e[118]=_,e[119]=U,e[120]=H):H=e[120];let ge;e[121]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(u,{type:"button",variant:"outline",onClick:Le,children:"Cancel"}),e[121]=ge):ge=e[121];const Ie=X?"Creating...":"Create Album";let L;e[122]!==X||e[123]!==Ie?(L=s.jsxs("div",{className:"flex justify-end gap-2",children:[ge,s.jsx(u,{type:"submit",disabled:X,children:Ie})]}),e[122]=X,e[123]=Ie,e[124]=L):L=e[124];let ve;return e[125]!==xe||e[126]!==B||e[127]!==H||e[128]!==L?(ve=s.jsxs(Ee,{breadcrumbs:He,children:[ae,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[te,s.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[B,H,L]})]})]}),e[125]=xe,e[126]=B,e[127]=H,e[128]=L,e[129]=ve):ve=e[129],ve}function Le(){return window.history.back()}export{ss as default};
