import{c as pe,u as he,j as t,H as xe}from"./app-MINiiSVS.js";import{X as ye,A as ge}from"./app-layout-BrunvTmX.js";import{B as Q}from"./app-logo-icon-BCqWoAUI.js";import{I as ne}from"./input-Dw2ifV-0.js";import{T as ve}from"./textarea-p-Svcls2.js";import{L as V}from"./label-Lh5Vk1cZ.js";import{S as ue}from"./switch-DHJbg-cy.js";import{C as oe,a as de,b as me,c as fe}from"./card-CmOTx9qN.js";import{I as je}from"./IdPickerButton-DEqQvdFn.js";import{P as _e}from"./plus-DXKBacFM.js";/* empty css            */import"./index-CK9UEzcf.js";import"./index-pTUzXFU7.js";import"./index-T61tjutk.js";const be=[{title:"Events",href:"/admin/events"},{title:"Edit",href:"#"}];function $e(W){const e=pe.c(93),{event:r}=W,Y=r.title||"",Z=r.description||"",ee=r.cover_image_id||"",te=r.order||0;let o;e[0]!==r.gallery?(o=r.gallery?.map(Ce)||[],e[0]=r.gallery,e[1]=o):o=e[1];let D;e[2]!==r.is_active||e[3]!==Y||e[4]!==Z||e[5]!==ee||e[6]!==te||e[7]!==o?(D={title:Y,description:Z,cover_image_id:ee,order:te,is_active:r.is_active,gallery:o},e[2]=r.is_active,e[3]=Y,e[4]=Z,e[5]=ee,e[6]=te,e[7]=o,e[8]=D):D=e[8];const{data:l,setData:s,put:le,processing:F,errors:a}=he(D);let B;e[9]!==r.id||e[10]!==le?(B=i=>{i.preventDefault(),le(`/admin/events/${r.id}`)},e[9]=r.id,e[10]=le,e[11]=B):B=e[11];const se=B;let P;e[12]!==l.gallery||e[13]!==s?(P=()=>{s("gallery",[...l.gallery,""])},e[12]=l.gallery,e[13]=s,e[14]=P):P=e[14];const ie=P;let T;e[15]!==l.gallery||e[16]!==s?(T=(i,n)=>{const c=[...l.gallery];c[i]=n,s("gallery",c)},e[15]=l.gallery,e[16]=s,e[17]=T):T=e[17];const H=T;let L;e[18]!==l.gallery||e[19]!==s?(L=i=>{s("gallery",l.gallery.filter((n,c)=>c!==i))},e[18]=l.gallery,e[19]=s,e[20]=L):L=e[20];const re=L,ae=`Edit Event - ${r.title}`;let d;e[21]!==ae?(d=t.jsx(xe,{title:ae}),e[21]=ae,e[22]=d):d=e[22];let $;e[23]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Event"})}),e[23]=$):$=e[23];let z;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(oe,{children:t.jsx(de,{children:"Basic Information"})}),e[24]=z):z=e[24];let R;e[25]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(V,{htmlFor:"title",children:"Title *"}),e[25]=R):R=e[25];let m;e[26]!==s?(m=i=>s("title",i.target.value),e[26]=s,e[27]=m):m=e[27];let f;e[28]!==l.title||e[29]!==m?(f=t.jsx(ne,{id:"title",value:l.title,onChange:m,placeholder:"Enter event title"}),e[28]=l.title,e[29]=m,e[30]=f):f=e[30];let p;e[31]!==a.title?(p=a.title&&t.jsx("p",{className:"text-sm text-destructive",children:a.title}),e[31]=a.title,e[32]=p):p=e[32];let h;e[33]!==f||e[34]!==p?(h=t.jsxs("div",{className:"space-y-2",children:[R,f,p]}),e[33]=f,e[34]=p,e[35]=h):h=e[35];let U;e[36]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(V,{htmlFor:"description",children:"Description *"}),e[36]=U):U=e[36];let x;e[37]!==s?(x=i=>s("description",i.target.value),e[37]=s,e[38]=x):x=e[38];let y;e[39]!==l.description||e[40]!==x?(y=t.jsx(ve,{id:"description",value:l.description,onChange:x,placeholder:"Enter event description",rows:4}),e[39]=l.description,e[40]=x,e[41]=y):y=e[41];let g;e[42]!==a.description?(g=a.description&&t.jsx("p",{className:"text-sm text-destructive",children:a.description}),e[42]=a.description,e[43]=g):g=e[43];let v;e[44]!==y||e[45]!==g?(v=t.jsxs("div",{className:"space-y-2",children:[U,y,g]}),e[44]=y,e[45]=g,e[46]=v):v=e[46];let O;e[47]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(V,{htmlFor:"order",children:"Order"}),e[47]=O):O=e[47];let u;e[48]!==s?(u=i=>s("order",parseInt(i.target.value)||0),e[48]=s,e[49]=u):u=e[49];let j;e[50]!==l.order||e[51]!==u?(j=t.jsxs("div",{className:"space-y-2",children:[O,t.jsx(ne,{id:"order",type:"number",value:l.order,onChange:u})]}),e[50]=l.order,e[51]=u,e[52]=j):j=e[52];let _;e[53]!==s?(_=i=>s("is_active",i),e[53]=s,e[54]=_):_=e[54];let b;e[55]!==l.is_active||e[56]!==_?(b=t.jsx(ue,{id:"is_active",checked:l.is_active,onCheckedChange:_}),e[55]=l.is_active,e[56]=_,e[57]=b):b=e[57];let X;e[58]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(V,{htmlFor:"is_active",children:"Active"}),e[58]=X):X=e[58];let N;e[59]!==b?(N=t.jsxs("div",{className:"flex items-center space-x-2",children:[b,X]}),e[59]=b,e[60]=N):N=e[60];let C;e[61]!==j||e[62]!==N?(C=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j,N]}),e[61]=j,e[62]=N,e[63]=C):C=e[63];let E;e[64]!==h||e[65]!==v||e[66]!==C?(E=t.jsxs(me,{children:[z,t.jsxs(fe,{className:"space-y-4",children:[h,v,C]})]}),e[64]=h,e[65]=v,e[66]=C,e[67]=E):E=e[67];let q;e[68]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(de,{children:"Gallery Images"}),e[68]=q):q=e[68];let J;e[69]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(_e,{className:"mr-2 h-4 w-4"}),e[69]=J):J=e[69];let I;e[70]!==ie?(I=t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[q,t.jsxs(Q,{type:"button",onClick:ie,size:"sm",children:[J,"Add Image"]})]})}),e[70]=ie,e[71]=I):I=e[71];let S;e[72]!==l.gallery||e[73]!==re||e[74]!==H?(S=l.gallery.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No images added yet. Click "Add Image" to get started.'}):l.gallery.map((i,n)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ne,{value:i,onChange:c=>H(n,c.target.value),placeholder:"Enter Google Drive file ID"}),t.jsx(je,{onPick:c=>H(n,c)}),t.jsx(Q,{type:"button",variant:"outline",size:"icon",onClick:()=>re(n),children:t.jsx(ye,{className:"h-4 w-4"})})]},n)),e[72]=l.gallery,e[73]=re,e[74]=H,e[75]=S):S=e[75];let w;e[76]!==S?(w=t.jsx(fe,{className:"space-y-4",children:S}),e[76]=S,e[77]=w):w=e[77];let k;e[78]!==I||e[79]!==w?(k=t.jsxs(me,{children:[I,w]}),e[78]=I,e[79]=w,e[80]=k):k=e[80];let K;e[81]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Q,{type:"button",variant:"outline",onClick:Ne,children:"Cancel"}),e[81]=K):K=e[81];const ce=F?"Updating...":"Update Event";let G;e[82]!==F||e[83]!==ce?(G=t.jsxs("div",{className:"flex justify-end gap-2",children:[K,t.jsx(Q,{type:"submit",disabled:F,children:ce})]}),e[82]=F,e[83]=ce,e[84]=G):G=e[84];let A;e[85]!==se||e[86]!==E||e[87]!==k||e[88]!==G?(A=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[$,t.jsxs("form",{onSubmit:se,className:"space-y-6",children:[E,k,G]})]}),e[85]=se,e[86]=E,e[87]=k,e[88]=G,e[89]=A):A=e[89];let M;return e[90]!==d||e[91]!==A?(M=t.jsxs(ge,{breadcrumbs:be,children:[d,A]}),e[90]=d,e[91]=A,e[92]=M):M=e[92],M}function Ne(){return window.history.back()}function Ce(W){return W.image_id}export{$e as default};
