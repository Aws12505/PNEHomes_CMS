import{c as Se,u as Ae,j as s,H as we}from"./app-D_RO3sCJ.js";import{X as Ne,A as ke}from"./app-layout-BH-Vr47z.js";import{B as u}from"./app-logo-icon-HgdIs_Zy.js";import{I as o}from"./input-CNN88yk7.js";import{L as n}from"./label-D9SyVbNM.js";import{S as Ce}from"./switch-CuwAJeXq.js";import{b as B,C as de,a as ue,c as H}from"./card-DohNCtI-.js";import{I as R}from"./IdPickerButton-BSyDUtPk.js";import{P as ye}from"./plus-Buh1JFHC.js";import{T as Ie}from"./trash-2-Z994p_yD.js";/* empty css            */import"./index-CmtF8Zby.js";import"./index-Di2yZlQU.js";import"./index-T61tjutk.js";const De=[{title:"Gallery",href:"/admin/gallery-albums"},{title:"Create Album",href:"#"}];function Je(){const e=Se.c(116);let V;e[0]===Symbol.for("react.memo_cache_sentinel")?(V={title:"",cover_image_id:"",has_sub_albums:!1,order:0,is_active:!0,sub_albums:[],images:[]},e[0]=V):V=e[0];const{data:l,setData:a,post:he,processing:X,errors:d}=Ae(V);let $;e[1]!==he?($=t=>{t.preventDefault(),he("/admin/gallery-albums")},e[1]=he,e[2]=$):$=e[2];const be=$;let q;e[3]!==l.sub_albums||e[4]!==a?(q=()=>{a("sub_albums",[...l.sub_albums,{title:"",cover_image_id:"",images:[]}])},e[3]=l.sub_albums,e[4]=a,e[5]=q):q=e[5];const xe=q;let J;e[6]!==l.sub_albums||e[7]!==a?(J=(t,i,m)=>{const r=[...l.sub_albums];r[t]={...r[t],[i]:m},a("sub_albums",r)},e[6]=l.sub_albums,e[7]=a,e[8]=J):J=e[8];const L=J;let K;e[9]!==l.sub_albums||e[10]!==a?(K=t=>{a("sub_albums",l.sub_albums.filter((i,m)=>m!==t))},e[9]=l.sub_albums,e[10]=a,e[11]=K):K=e[11];const _e=K;let M;e[12]!==l.sub_albums||e[13]!==a?(M=t=>{const i=[...l.sub_albums];i[t].images.push({virtual_image_id:"",real_image_id:""}),a("sub_albums",i)},e[12]=l.sub_albums,e[13]=a,e[14]=M):M=e[14];const ge=M;let Q;e[15]!==l.sub_albums||e[16]!==a?(Q=(t,i,m,r)=>{const c=[...l.sub_albums];c[t].images[i][m]=r,a("sub_albums",c)},e[15]=l.sub_albums,e[16]=a,e[17]=Q):Q=e[17];const h=Q;let U;e[18]!==l.sub_albums||e[19]!==a?(U=(t,i)=>{const m=[...l.sub_albums];m[t].images=m[t].images.filter((r,c)=>c!==i),a("sub_albums",m)},e[18]=l.sub_albums,e[19]=a,e[20]=U):U=e[20];const fe=U;let W;e[21]!==l.images||e[22]!==a?(W=()=>{a("images",[...l.images,{virtual_image_id:"",real_image_id:""}])},e[21]=l.images,e[22]=a,e[23]=W):W=e[23];const je=W;let Y;e[24]!==l.images||e[25]!==a?(Y=(t,i,m)=>{const r=[...l.images];r[t][i]=m,a("images",r)},e[24]=l.images,e[25]=a,e[26]=Y):Y=e[26];const b=Y;let Z;e[27]!==l.images||e[28]!==a?(Z=t=>{a("images",l.images.filter((i,m)=>m!==t))},e[27]=l.images,e[28]=a,e[29]=Z):Z=e[29];const pe=Z;let ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(we,{title:"Create Gallery Album"}),e[30]=ee):ee=e[30];let se;e[31]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Create Gallery Album"})}),e[31]=se):se=e[31];let le;e[32]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(de,{children:s.jsx(ue,{children:"Basic Information"})}),e[32]=le):le=e[32];let ae;e[33]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(n,{htmlFor:"title",children:"Title *"}),e[33]=ae):ae=e[33];let x;e[34]!==a?(x=t=>a("title",t.target.value),e[34]=a,e[35]=x):x=e[35];let _;e[36]!==l.title||e[37]!==x?(_=s.jsx(o,{id:"title",value:l.title,onChange:x,placeholder:"Enter album title"}),e[36]=l.title,e[37]=x,e[38]=_):_=e[38];let g;e[39]!==d.title?(g=d.title&&s.jsx("p",{className:"text-sm text-destructive",children:d.title}),e[39]=d.title,e[40]=g):g=e[40];let te;e[41]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Slug will be auto-generated from title"}),e[41]=te):te=e[41];let f;e[42]!==_||e[43]!==g?(f=s.jsxs("div",{className:"space-y-2",children:[ae,_,g,te]}),e[42]=_,e[43]=g,e[44]=f):f=e[44];let ie;e[45]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(n,{htmlFor:"cover_image_id",children:"Cover Image ID (Google Drive) *"}),e[45]=ie):ie=e[45];let j;e[46]!==a?(j=t=>a("cover_image_id",t.target.value),e[46]=a,e[47]=j):j=e[47];let p;e[48]!==l.cover_image_id||e[49]!==j?(p=s.jsx(o,{id:"cover_image_id",value:l.cover_image_id,onChange:j,placeholder:"Enter Google Drive file ID"}),e[48]=l.cover_image_id,e[49]=j,e[50]=p):p=e[50];let v;e[51]!==a?(v=s.jsx(R,{onPick:t=>a("cover_image_id",t)}),e[51]=a,e[52]=v):v=e[52];let y;e[53]!==p||e[54]!==v?(y=s.jsxs("div",{className:"flex gap-2",children:[p,v]}),e[53]=p,e[54]=v,e[55]=y):y=e[55];let N;e[56]!==d.cover_image_id?(N=d.cover_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:d.cover_image_id}),e[56]=d.cover_image_id,e[57]=N):N=e[57];let C;e[58]!==y||e[59]!==N?(C=s.jsxs("div",{className:"space-y-2",children:[ie,y,N]}),e[58]=y,e[59]=N,e[60]=C):C=e[60];let me;e[61]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(n,{htmlFor:"order",children:"Order"}),e[61]=me):me=e[61];let S;e[62]!==a?(S=t=>a("order",parseInt(t.target.value)||0),e[62]=a,e[63]=S):S=e[63];let A;e[64]!==l.order||e[65]!==S?(A=s.jsxs("div",{className:"space-y-2",children:[me,s.jsx(o,{id:"order",type:"number",value:l.order,onChange:S})]}),e[64]=l.order,e[65]=S,e[66]=A):A=e[66];let w;e[67]!==a?(w=t=>a("is_active",t),e[67]=a,e[68]=w):w=e[68];let k;e[69]!==l.is_active||e[70]!==w?(k=s.jsx(Ce,{id:"is_active",checked:l.is_active,onCheckedChange:w}),e[69]=l.is_active,e[70]=w,e[71]=k):k=e[71];let re;e[72]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(n,{htmlFor:"is_active",children:"Active"}),e[72]=re):re=e[72];let I;e[73]!==k?(I=s.jsxs("div",{className:"flex items-center space-x-2",children:[k,re]}),e[73]=k,e[74]=I):I=e[74];let D;e[75]!==A||e[76]!==I?(D=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A,I]}),e[75]=A,e[76]=I,e[77]=D):D=e[77];let P;e[78]!==a?(P=t=>{a("has_sub_albums",t),t?a("images",[]):a("sub_albums",[])},e[78]=a,e[79]=P):P=e[79];let G;e[80]!==l.has_sub_albums||e[81]!==P?(G=s.jsx(Ce,{id:"has_sub_albums",checked:l.has_sub_albums,onCheckedChange:P}),e[80]=l.has_sub_albums,e[81]=P,e[82]=G):G=e[82];let ce;e[83]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(n,{htmlFor:"has_sub_albums",children:"Has Sub-Albums"}),e[83]=ce):ce=e[83];let z;e[84]!==G?(z=s.jsxs("div",{className:"flex items-center space-x-2",children:[G,ce]}),e[84]=G,e[85]=z):z=e[85];let F;e[86]!==f||e[87]!==C||e[88]!==D||e[89]!==z?(F=s.jsxs(B,{children:[le,s.jsxs(H,{className:"space-y-4",children:[f,C,D,z]})]}),e[86]=f,e[87]=C,e[88]=D,e[89]=z,e[90]=F):F=e[90];let E;e[91]!==xe||e[92]!==ge||e[93]!==l.has_sub_albums||e[94]!==l.sub_albums||e[95]!==_e||e[96]!==fe||e[97]!==L||e[98]!==h?(E=l.has_sub_albums&&s.jsxs(B,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Sub-Albums"}),s.jsxs(u,{type:"button",onClick:xe,size:"sm",children:[s.jsx(ye,{className:"mr-2 h-4 w-4"}),"Add Sub-Album"]})]})}),s.jsx(H,{className:"space-y-6",children:l.sub_albums.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No sub-albums added yet. Click "Add Sub-Album" to get started.'}):l.sub_albums.map((t,i)=>s.jsxs(B,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{className:"text-base",children:["Sub-Album ",i+1]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>_e(i),children:s.jsx(Ie,{className:"h-4 w-4 text-destructive"})})]})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{children:"Title *"}),s.jsx(o,{value:t.title,onChange:m=>L(i,"title",m.target.value),placeholder:"Enter sub-album title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{children:"Cover Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{value:t.cover_image_id,onChange:m=>L(i,"cover_image_id",m.target.value),placeholder:"Google Drive file ID"}),s.jsx(R,{onPick:m=>L(i,"cover_image_id",m)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(n,{children:"Images"}),s.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>ge(i),children:[s.jsx(ye,{className:"mr-2 h-3 w-3"}),"Add Image"]})]}),t.images.length===0?s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No images added"}):s.jsx("div",{className:"space-y-3",children:t.images.map((m,r)=>s.jsx(B,{children:s.jsxs(H,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-medium",children:["Image ",r+1]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>fe(i,r),children:s.jsx(Ne,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{className:"text-xs",children:"Virtual Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{value:m.virtual_image_id,onChange:c=>h(i,r,"virtual_image_id",c.target.value),placeholder:"Optional"}),s.jsx(R,{onPick:c=>h(i,r,"virtual_image_id",c)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{className:"text-xs",children:"Real Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{value:m.real_image_id,onChange:c=>h(i,r,"real_image_id",c.target.value),placeholder:"Optional"}),s.jsx(R,{onPick:c=>h(i,r,"real_image_id",c)})]})]})]})},r))})]})]})]},i))})]}),e[91]=xe,e[92]=ge,e[93]=l.has_sub_albums,e[94]=l.sub_albums,e[95]=_e,e[96]=fe,e[97]=L,e[98]=h,e[99]=E):E=e[99];let O;e[100]!==je||e[101]!==l.has_sub_albums||e[102]!==l.images||e[103]!==pe||e[104]!==b?(O=!l.has_sub_albums&&s.jsxs(B,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Images"}),s.jsxs(u,{type:"button",onClick:je,size:"sm",children:[s.jsx(ye,{className:"mr-2 h-4 w-4"}),"Add Image"]})]})}),s.jsx(H,{className:"space-y-4",children:l.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No images added yet. Click "Add Image" to get started.'}):l.images.map((t,i)=>s.jsx(B,{children:s.jsxs(H,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",i+1]}),s.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>pe(i),children:s.jsx(Ne,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{children:"Virtual Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{value:t.virtual_image_id,onChange:m=>b(i,"virtual_image_id",m.target.value),placeholder:"Optional"}),s.jsx(R,{onPick:m=>b(i,"virtual_image_id",m)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{children:"Real Image ID"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{value:t.real_image_id,onChange:m=>b(i,"real_image_id",m.target.value),placeholder:"Optional"}),s.jsx(R,{onPick:m=>b(i,"real_image_id",m)})]})]})]})},i))})]}),e[100]=je,e[101]=l.has_sub_albums,e[102]=l.images,e[103]=pe,e[104]=b,e[105]=O):O=e[105];let ne;e[106]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(u,{type:"button",variant:"outline",onClick:Pe,children:"Cancel"}),e[106]=ne):ne=e[106];const ve=X?"Creating...":"Create Album";let T;e[107]!==X||e[108]!==ve?(T=s.jsxs("div",{className:"flex justify-end gap-2",children:[ne,s.jsx(u,{type:"submit",disabled:X,children:ve})]}),e[107]=X,e[108]=ve,e[109]=T):T=e[109];let oe;return e[110]!==be||e[111]!==F||e[112]!==E||e[113]!==O||e[114]!==T?(oe=s.jsxs(ke,{breadcrumbs:De,children:[ee,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[se,s.jsxs("form",{onSubmit:be,className:"space-y-6",children:[F,E,O,T]})]})]}),e[110]=be,e[111]=F,e[112]=E,e[113]=O,e[114]=T,e[115]=oe):oe=e[115],oe}function Pe(){return window.history.back()}export{Je as default};
