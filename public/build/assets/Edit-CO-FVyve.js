import{c as We,u as Xe,j as s,H as qe}from"./app-BM09UUAh.js";import{X as Pe,A as Je}from"./app-layout-DicXa4A-.js";import{B as g}from"./app-logo-icon-9zU4yCZq.js";import{I as n}from"./input-BmyujGA1.js";import{L as c}from"./label-gA775tNg.js";import{S as Ke}from"./switch-CUByW7_u.js";import{b as q,C as He,a as Le,c as J}from"./card-DfTbrFK3.js";import{R as Ue,a as Me}from"./radio-group-DVmlFI2g.js";import{P as $e}from"./plus-MeKAeOuf.js";import{T as Qe}from"./trash-2-CEbVM8I1.js";/* empty css            */import"./index-BTbOtFpw.js";import"./index-cbf06Nu3.js";import"./index-Cy5ipuhJ.js";function vs(o){const e=We.c(149),{album:m}=o;let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[{title:"Dashboard",href:dashboard().url},{title:"Gallery Albums",href:"/admin/gallery-albums"},{title:"Edit",href:"#"}],e[0]=K):K=e[0];const Oe=K,Ne=m.title||"",Ce=m.slug||"",Se=m.cover_virtual_image_id||"",Ie=m.cover_real_image_id||"",De=m.order||0;let h;e[1]!==m.subAlbums?(h=m.subAlbums?.map(es)||[],e[1]=m.subAlbums,e[2]=h):h=e[2];let v;e[3]!==m.images?(v=m.images?.map(Ze)||[],e[3]=m.images,e[4]=v):v=e[4];let M;e[5]!==m.has_sub_albums||e[6]!==m.is_active||e[7]!==Ne||e[8]!==Ce||e[9]!==Se||e[10]!==Ie||e[11]!==De||e[12]!==h||e[13]!==v?(M={title:Ne,slug:Ce,cover_virtual_image_id:Se,cover_real_image_id:Ie,has_sub_albums:m.has_sub_albums,order:De,is_active:m.is_active,sub_albums:h,images:v},e[5]=m.has_sub_albums,e[6]=m.is_active,e[7]=Ne,e[8]=Ce,e[9]=Se,e[10]=Ie,e[11]=De,e[12]=h,e[13]=v,e[14]=M):M=e[14];const{data:l,setData:a,put:we,processing:Q,errors:u}=Xe(M);let Y;e[15]!==m.id||e[16]!==we?(Y=i=>{i.preventDefault(),we(`/admin/gallery-albums/${m.id}`)},e[15]=m.id,e[16]=we,e[17]=Y):Y=e[17];const Ae=Y;let Z;e[18]!==l.sub_albums||e[19]!==a?(Z=()=>{a("sub_albums",[...l.sub_albums,{slug:"",title:"",cover_virtual_image_id:"",cover_real_image_id:"",images:[]}])},e[18]=l.sub_albums,e[19]=a,e[20]=Z):Z=e[20];const Ge=Z;let ee;e[21]!==l.sub_albums||e[22]!==a?(ee=(i,t,r)=>{const d=[...l.sub_albums];d[i][t]=r,a("sub_albums",d)},e[21]=l.sub_albums,e[22]=a,e[23]=ee):ee=e[23];const b=ee;let se;e[24]!==l.sub_albums||e[25]!==a?(se=i=>{a("sub_albums",l.sub_albums.filter((t,r)=>r!==i))},e[24]=l.sub_albums,e[25]=a,e[26]=se):se=e[26];const ke=se;let le;e[27]!==l.sub_albums||e[28]!==a?(le=i=>{const t=[...l.sub_albums];t[i].images.push({virtual_image_id:"",real_image_id:""}),a("sub_albums",t)},e[27]=l.sub_albums,e[28]=a,e[29]=le):le=e[29];const Ee=le;let ae;e[30]!==l.sub_albums||e[31]!==a?(ae=(i,t,r,d)=>{const _=[...l.sub_albums];_[i].images[t][r]=d,a("sub_albums",_)},e[30]=l.sub_albums,e[31]=a,e[32]=ae):ae=e[32];const ie=ae;let te;e[33]!==l.sub_albums||e[34]!==a?(te=(i,t)=>{const r=[...l.sub_albums];r[i].images=r[i].images.filter((d,_)=>_!==t),a("sub_albums",r)},e[33]=l.sub_albums,e[34]=a,e[35]=te):te=e[35];const Fe=te;let re;e[36]!==l.images||e[37]!==a?(re=()=>{a("images",[...l.images,{virtual_image_id:"",real_image_id:""}])},e[36]=l.images,e[37]=a,e[38]=re):re=e[38];const Re=re;let me;e[39]!==l.images||e[40]!==a?(me=(i,t,r)=>{const d=[...l.images];d[i][t]=r,a("images",d)},e[39]=l.images,e[40]=a,e[41]=me):me=e[41];const ce=me;let de;e[42]!==l.images||e[43]!==a?(de=i=>{a("images",l.images.filter((t,r)=>r!==i))},e[42]=l.images,e[43]=a,e[44]=de):de=e[44];const ze=de,Te=`Edit Gallery Album - ${m.title}`;let x;e[45]!==Te?(x=s.jsx(qe,{title:Te}),e[45]=Te,e[46]=x):x=e[46];let oe;e[47]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Gallery Album"})}),e[47]=oe):oe=e[47];let ne;e[48]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(He,{children:s.jsx(Le,{children:"Basic Information"})}),e[48]=ne):ne=e[48];let ue;e[49]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(c,{htmlFor:"title",children:"Title *"}),e[49]=ue):ue=e[49];let f;e[50]!==a?(f=i=>a("title",i.target.value),e[50]=a,e[51]=f):f=e[51];let j;e[52]!==l.title||e[53]!==f?(j=s.jsx(n,{id:"title",value:l.title,onChange:f,placeholder:"Enter album title"}),e[52]=l.title,e[53]=f,e[54]=j):j=e[54];let p;e[55]!==u.title?(p=u.title&&s.jsx("p",{className:"text-sm text-destructive",children:u.title}),e[55]=u.title,e[56]=p):p=e[56];let y;e[57]!==j||e[58]!==p?(y=s.jsxs("div",{className:"space-y-2",children:[ue,j,p]}),e[57]=j,e[58]=p,e[59]=y):y=e[59];let _e;e[60]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(c,{htmlFor:"slug",children:"Slug"}),e[60]=_e):_e=e[60];let N;e[61]!==a?(N=i=>a("slug",i.target.value),e[61]=a,e[62]=N):N=e[62];let C;e[63]!==l.slug||e[64]!==N?(C=s.jsxs("div",{className:"space-y-2",children:[_e,s.jsx(n,{id:"slug",value:l.slug,onChange:N,placeholder:"auto-generated-from-title"})]}),e[63]=l.slug,e[64]=N,e[65]=C):C=e[65];let S;e[66]!==y||e[67]!==C?(S=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y,C]}),e[66]=y,e[67]=C,e[68]=S):S=e[68];let ge;e[69]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(c,{htmlFor:"cover_virtual_image_id",children:"Cover Virtual Image ID *"}),e[69]=ge):ge=e[69];let I;e[70]!==a?(I=i=>a("cover_virtual_image_id",i.target.value),e[70]=a,e[71]=I):I=e[71];let D;e[72]!==l.cover_virtual_image_id||e[73]!==I?(D=s.jsx(n,{id:"cover_virtual_image_id",value:l.cover_virtual_image_id,onChange:I,placeholder:"Enter Google Drive file ID"}),e[72]=l.cover_virtual_image_id,e[73]=I,e[74]=D):D=e[74];let w;e[75]!==u.cover_virtual_image_id?(w=u.cover_virtual_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:u.cover_virtual_image_id}),e[75]=u.cover_virtual_image_id,e[76]=w):w=e[76];let A;e[77]!==D||e[78]!==w?(A=s.jsxs("div",{className:"space-y-2",children:[ge,D,w]}),e[77]=D,e[78]=w,e[79]=A):A=e[79];let he;e[80]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(c,{htmlFor:"cover_real_image_id",children:"Cover Real Image ID *"}),e[80]=he):he=e[80];let G;e[81]!==a?(G=i=>a("cover_real_image_id",i.target.value),e[81]=a,e[82]=G):G=e[82];let k;e[83]!==l.cover_real_image_id||e[84]!==G?(k=s.jsx(n,{id:"cover_real_image_id",value:l.cover_real_image_id,onChange:G,placeholder:"Enter Google Drive file ID"}),e[83]=l.cover_real_image_id,e[84]=G,e[85]=k):k=e[85];let E;e[86]!==u.cover_real_image_id?(E=u.cover_real_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:u.cover_real_image_id}),e[86]=u.cover_real_image_id,e[87]=E):E=e[87];let F;e[88]!==k||e[89]!==E?(F=s.jsxs("div",{className:"space-y-2",children:[he,k,E]}),e[88]=k,e[89]=E,e[90]=F):F=e[90];let R;e[91]!==A||e[92]!==F?(R=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A,F]}),e[91]=A,e[92]=F,e[93]=R):R=e[93];let ve;e[94]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(c,{children:"Album Type *"}),e[94]=ve):ve=e[94];const Ve=l.has_sub_albums?"sub_albums":"direct";let z;e[95]!==a?(z=i=>a("has_sub_albums",i==="sub_albums"),e[95]=a,e[96]=z):z=e[96];let be;e[97]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ue,{value:"direct",id:"direct"}),s.jsx(c,{htmlFor:"direct",children:"Direct Images"})]}),e[97]=be):be=e[97];let xe;e[98]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ue,{value:"sub_albums",id:"sub_albums"}),s.jsx(c,{htmlFor:"sub_albums",children:"With Sub Albums"})]}),e[98]=xe):xe=e[98];let T;e[99]!==Ve||e[100]!==z?(T=s.jsxs("div",{className:"space-y-2",children:[ve,s.jsxs(Me,{value:Ve,onValueChange:z,children:[be,xe]})]}),e[99]=Ve,e[100]=z,e[101]=T):T=e[101];let fe;e[102]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(c,{htmlFor:"order",children:"Order"}),e[102]=fe):fe=e[102];let V;e[103]!==a?(V=i=>a("order",parseInt(i.target.value)||0),e[103]=a,e[104]=V):V=e[104];let B;e[105]!==l.order||e[106]!==V?(B=s.jsxs("div",{className:"space-y-2",children:[fe,s.jsx(n,{id:"order",type:"number",value:l.order,onChange:V})]}),e[105]=l.order,e[106]=V,e[107]=B):B=e[107];let H;e[108]!==a?(H=i=>a("is_active",i),e[108]=a,e[109]=H):H=e[109];let L;e[110]!==l.is_active||e[111]!==H?(L=s.jsx(Ke,{id:"is_active",checked:l.is_active,onCheckedChange:H}),e[110]=l.is_active,e[111]=H,e[112]=L):L=e[112];let je;e[113]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(c,{htmlFor:"is_active",children:"Active"}),e[113]=je):je=e[113];let $;e[114]!==L?($=s.jsxs("div",{className:"flex items-center space-x-2",children:[L,je]}),e[114]=L,e[115]=$):$=e[115];let P;e[116]!==B||e[117]!==$?(P=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B,$]}),e[116]=B,e[117]=$,e[118]=P):P=e[118];let U;e[119]!==S||e[120]!==R||e[121]!==T||e[122]!==P?(U=s.jsxs(q,{children:[ne,s.jsxs(J,{className:"space-y-4",children:[S,R,T,P]})]}),e[119]=S,e[120]=R,e[121]=T,e[122]=P,e[123]=U):U=e[123];let O;e[124]!==Re||e[125]!==Ge||e[126]!==Ee||e[127]!==l.has_sub_albums||e[128]!==l.images||e[129]!==l.sub_albums||e[130]!==ze||e[131]!==ke||e[132]!==Fe||e[133]!==ce||e[134]!==b||e[135]!==ie?(O=l.has_sub_albums?s.jsxs(q,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Le,{children:"Sub Albums *"}),s.jsxs(g,{type:"button",onClick:Ge,size:"sm",children:[s.jsx($e,{className:"mr-2 h-4 w-4"}),"Add Sub Album"]})]})}),s.jsx(J,{className:"space-y-4",children:l.sub_albums.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No sub albums added yet."}):l.sub_albums.map((i,t)=>s.jsx(q,{children:s.jsxs(J,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold",children:["Sub Album ",t+1]}),s.jsx(g,{type:"button",variant:"outline",size:"sm",onClick:()=>ke(t),children:s.jsx(Qe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Title *"}),s.jsx(n,{value:i.title,onChange:r=>b(t,"title",r.target.value),placeholder:"Enter sub album title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Slug"}),s.jsx(n,{value:i.slug,onChange:r=>b(t,"slug",r.target.value),placeholder:"auto-generated"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Cover Virtual Image ID *"}),s.jsx(n,{value:i.cover_virtual_image_id,onChange:r=>b(t,"cover_virtual_image_id",r.target.value),placeholder:"Google Drive ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Cover Real Image ID *"}),s.jsx(n,{value:i.cover_real_image_id,onChange:r=>b(t,"cover_real_image_id",r.target.value),placeholder:"Google Drive ID"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(c,{children:"Images"}),s.jsxs(g,{type:"button",onClick:()=>Ee(t),size:"sm",variant:"outline",children:[s.jsx($e,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),i.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No images added"}):s.jsx("div",{className:"space-y-2",children:i.images.map((r,d)=>s.jsx(q,{children:s.jsxs(J,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image"," ",d+1]}),s.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>Fe(t,d),children:s.jsx(Pe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(n,{value:r.virtual_image_id,onChange:_=>ie(t,d,"virtual_image_id",_.target.value),placeholder:"Virtual Image ID"}),s.jsx(n,{value:r.real_image_id,onChange:_=>ie(t,d,"real_image_id",_.target.value),placeholder:"Real Image ID"})]})]})},d))})]})]})},t))})]}):s.jsxs(q,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Le,{children:"Images *"}),s.jsxs(g,{type:"button",onClick:Re,size:"sm",children:[s.jsx($e,{className:"mr-2 h-4 w-4"}),"Add Image"]})]})}),s.jsx(J,{className:"space-y-4",children:l.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No images added yet."}):l.images.map((i,t)=>s.jsx(q,{children:s.jsxs(J,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",t+1]}),s.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>ze(t),children:s.jsx(Pe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Virtual Image ID *"}),s.jsx(n,{value:i.virtual_image_id,onChange:r=>ce(t,"virtual_image_id",r.target.value),placeholder:"Google Drive ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(c,{children:"Real Image ID *"}),s.jsx(n,{value:i.real_image_id,onChange:r=>ce(t,"real_image_id",r.target.value),placeholder:"Google Drive ID"})]})]})]})},t))})]}),e[124]=Re,e[125]=Ge,e[126]=Ee,e[127]=l.has_sub_albums,e[128]=l.images,e[129]=l.sub_albums,e[130]=ze,e[131]=ke,e[132]=Fe,e[133]=ce,e[134]=b,e[135]=ie,e[136]=O):O=e[136];let pe;e[137]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(g,{type:"button",variant:"outline",onClick:Ye,children:"Cancel"}),e[137]=pe):pe=e[137];const Be=Q?"Updating...":"Update Album";let W;e[138]!==Q||e[139]!==Be?(W=s.jsxs("div",{className:"flex justify-end gap-2",children:[pe,s.jsx(g,{type:"submit",disabled:Q,children:Be})]}),e[138]=Q,e[139]=Be,e[140]=W):W=e[140];let X;e[141]!==Ae||e[142]!==U||e[143]!==O||e[144]!==W?(X=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[oe,s.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[U,O,W]})]}),e[141]=Ae,e[142]=U,e[143]=O,e[144]=W,e[145]=X):X=e[145];let ye;return e[146]!==x||e[147]!==X?(ye=s.jsxs(Je,{breadcrumbs:Oe,children:[x,X]}),e[146]=x,e[147]=X,e[148]=ye):ye=e[148],ye}function Ye(){return window.history.back()}function Ze(o){return{virtual_image_id:o.virtual_image_id,real_image_id:o.real_image_id}}function es(o){return{slug:o.slug,title:o.title,cover_virtual_image_id:o.cover_virtual_image_id,cover_real_image_id:o.cover_real_image_id,images:o.images.map(ss)}}function ss(o){return{virtual_image_id:o.virtual_image_id,real_image_id:o.real_image_id}}export{vs as default};
