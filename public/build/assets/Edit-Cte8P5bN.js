import{c as Me,u as Qe,j as s,H as Ye}from"./app-D_vK85IK.js";import{X as qe,A as Ze}from"./app-layout-DGDbPnk5.js";import{B as h}from"./app-logo-icon-D3lW0Ur5.js";import{I as n}from"./input-B-_RtOjK.js";import{L as d}from"./label-DIlrbBFL.js";import{S as es}from"./switch-CKpm4ezn.js";import{b as ee,C as Oe,a as We,c as se}from"./card-ahLqu4lb.js";import{R as Je,a as ss}from"./radio-group-bgM6nESE.js";import{I as v}from"./IdPickerButton-CQbYGXgq.js";import{P as Xe}from"./plus-Cxj02whr.js";import{T as ls}from"./trash-2-CkmhMWgZ.js";/* empty css            */import"./index-B7SszltV.js";import"./index-By2g35PJ.js";import"./index-Cy5ipuhJ.js";function Ns(o){const e=Me.c(159),{album:c}=o;let le;e[0]===Symbol.for("react.memo_cache_sentinel")?(le=[{title:"Gallery Albums",href:"/admin/gallery-albums"},{title:"Edit",href:"#"}],e[0]=le):le=e[0];const Ke=le,Ae=c.title||"",Ie=c.slug||"",ke=c.cover_virtual_image_id||"",Ge=c.cover_real_image_id||"",Pe=c.order||0;let x;e[1]!==c.subAlbums?(x=c.subAlbums?.map(ts)||[],e[1]=c.subAlbums,e[2]=x):x=e[2];let b;e[3]!==c.images?(b=c.images?.map(is)||[],e[3]=c.images,e[4]=b):b=e[4];let ae;e[5]!==c.has_sub_albums||e[6]!==c.is_active||e[7]!==Ae||e[8]!==Ie||e[9]!==ke||e[10]!==Ge||e[11]!==Pe||e[12]!==x||e[13]!==b?(ae={title:Ae,slug:Ie,cover_virtual_image_id:ke,cover_real_image_id:Ge,has_sub_albums:c.has_sub_albums,order:Pe,is_active:c.is_active,sub_albums:x,images:b},e[5]=c.has_sub_albums,e[6]=c.is_active,e[7]=Ae,e[8]=Ie,e[9]=ke,e[10]=Ge,e[11]=Pe,e[12]=x,e[13]=b,e[14]=ae):ae=e[14];const{data:l,setData:a,put:Ee,processing:ie,errors:_}=Qe(ae);let te;e[15]!==c.id||e[16]!==Ee?(te=i=>{i.preventDefault(),Ee(`/admin/gallery-albums/${c.id}`)},e[15]=c.id,e[16]=Ee,e[17]=te):te=e[17];const Fe=te;let re;e[18]!==l.sub_albums||e[19]!==a?(re=()=>{a("sub_albums",[...l.sub_albums,{slug:"",title:"",cover_virtual_image_id:"",cover_real_image_id:"",images:[]}])},e[18]=l.sub_albums,e[19]=a,e[20]=re):re=e[20];const Re=re;let ce;e[21]!==l.sub_albums||e[22]!==a?(ce=(i,t,r)=>{const m=[...l.sub_albums];m[i][t]=r,a("sub_albums",m)},e[21]=l.sub_albums,e[22]=a,e[23]=ce):ce=e[23];const g=ce;let me;e[24]!==l.sub_albums||e[25]!==a?(me=i=>{a("sub_albums",l.sub_albums.filter((t,r)=>r!==i))},e[24]=l.sub_albums,e[25]=a,e[26]=me):me=e[26];const ze=me;let de;e[27]!==l.sub_albums||e[28]!==a?(de=i=>{const t=[...l.sub_albums];t[i].images.push({virtual_image_id:"",real_image_id:""}),a("sub_albums",t)},e[27]=l.sub_albums,e[28]=a,e[29]=de):de=e[29];const Te=de;let oe;e[30]!==l.sub_albums||e[31]!==a?(oe=(i,t,r,m)=>{const u=[...l.sub_albums];u[i].images[t][r]=m,a("sub_albums",u)},e[30]=l.sub_albums,e[31]=a,e[32]=oe):oe=e[32];const f=oe;let ne;e[33]!==l.sub_albums||e[34]!==a?(ne=(i,t)=>{const r=[...l.sub_albums];r[i].images=r[i].images.filter((m,u)=>u!==t),a("sub_albums",r)},e[33]=l.sub_albums,e[34]=a,e[35]=ne):ne=e[35];const Ve=ne;let _e;e[36]!==l.images||e[37]!==a?(_e=()=>{a("images",[...l.images,{virtual_image_id:"",real_image_id:""}])},e[36]=l.images,e[37]=a,e[38]=_e):_e=e[38];const Be=_e;let ue;e[39]!==l.images||e[40]!==a?(ue=(i,t,r)=>{const m=[...l.images];m[i][t]=r,a("images",m)},e[39]=l.images,e[40]=a,e[41]=ue):ue=e[41];const j=ue;let ge;e[42]!==l.images||e[43]!==a?(ge=i=>{a("images",l.images.filter((t,r)=>r!==i))},e[42]=l.images,e[43]=a,e[44]=ge):ge=e[44];const He=ge,Le=`Edit Gallery Album - ${c.title}`;let p;e[45]!==Le?(p=s.jsx(Ye,{title:Le}),e[45]=Le,e[46]=p):p=e[46];let he;e[47]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Gallery Album"})}),e[47]=he):he=e[47];let ve;e[48]===Symbol.for("react.memo_cache_sentinel")?(ve=s.jsx(Oe,{children:s.jsx(We,{children:"Basic Information"})}),e[48]=ve):ve=e[48];let xe;e[49]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(d,{htmlFor:"title",children:"Title *"}),e[49]=xe):xe=e[49];let N;e[50]!==a?(N=i=>a("title",i.target.value),e[50]=a,e[51]=N):N=e[51];let y;e[52]!==l.title||e[53]!==N?(y=s.jsx(n,{id:"title",value:l.title,onChange:N,placeholder:"Enter album title"}),e[52]=l.title,e[53]=N,e[54]=y):y=e[54];let C;e[55]!==_.title?(C=_.title&&s.jsx("p",{className:"text-sm text-destructive",children:_.title}),e[55]=_.title,e[56]=C):C=e[56];let S;e[57]!==y||e[58]!==C?(S=s.jsxs("div",{className:"space-y-2",children:[xe,y,C]}),e[57]=y,e[58]=C,e[59]=S):S=e[59];let be;e[60]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(d,{htmlFor:"slug",children:"Slug"}),e[60]=be):be=e[60];let D;e[61]!==a?(D=i=>a("slug",i.target.value),e[61]=a,e[62]=D):D=e[62];let w;e[63]!==l.slug||e[64]!==D?(w=s.jsxs("div",{className:"space-y-2",children:[be,s.jsx(n,{id:"slug",value:l.slug,onChange:D,placeholder:"auto-generated-from-title"})]}),e[63]=l.slug,e[64]=D,e[65]=w):w=e[65];let A;e[66]!==S||e[67]!==w?(A=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S,w]}),e[66]=S,e[67]=w,e[68]=A):A=e[68];let fe;e[69]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(d,{htmlFor:"cover_virtual_image_id",children:"Cover Virtual Image ID *"}),e[69]=fe):fe=e[69];let I;e[70]!==a?(I=i=>a("cover_virtual_image_id",i.target.value),e[70]=a,e[71]=I):I=e[71];let k;e[72]!==l.cover_virtual_image_id||e[73]!==I?(k=s.jsx(n,{id:"cover_virtual_image_id",value:l.cover_virtual_image_id,onChange:I,placeholder:"Enter Google Drive file ID"}),e[72]=l.cover_virtual_image_id,e[73]=I,e[74]=k):k=e[74];let G;e[75]!==a?(G=s.jsx(v,{onPick:i=>a("cover_virtual_image_id",i)}),e[75]=a,e[76]=G):G=e[76];let P;e[77]!==k||e[78]!==G?(P=s.jsxs("div",{className:"flex gap-2",children:[k,G]}),e[77]=k,e[78]=G,e[79]=P):P=e[79];let E;e[80]!==_.cover_virtual_image_id?(E=_.cover_virtual_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:_.cover_virtual_image_id}),e[80]=_.cover_virtual_image_id,e[81]=E):E=e[81];let F;e[82]!==P||e[83]!==E?(F=s.jsxs("div",{className:"space-y-2",children:[fe,P,E]}),e[82]=P,e[83]=E,e[84]=F):F=e[84];let je;e[85]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(d,{htmlFor:"cover_real_image_id",children:"Cover Real Image ID *"}),e[85]=je):je=e[85];let R;e[86]!==a?(R=i=>a("cover_real_image_id",i.target.value),e[86]=a,e[87]=R):R=e[87];let z;e[88]!==l.cover_real_image_id||e[89]!==R?(z=s.jsx(n,{id:"cover_real_image_id",value:l.cover_real_image_id,onChange:R,placeholder:"Enter Google Drive file ID"}),e[88]=l.cover_real_image_id,e[89]=R,e[90]=z):z=e[90];let T;e[91]!==a?(T=s.jsx(v,{onPick:i=>a("cover_real_image_id",i)}),e[91]=a,e[92]=T):T=e[92];let V;e[93]!==z||e[94]!==T?(V=s.jsxs("div",{className:"flex gap-2",children:[z,T]}),e[93]=z,e[94]=T,e[95]=V):V=e[95];let B;e[96]!==_.cover_real_image_id?(B=_.cover_real_image_id&&s.jsx("p",{className:"text-sm text-destructive",children:_.cover_real_image_id}),e[96]=_.cover_real_image_id,e[97]=B):B=e[97];let H;e[98]!==V||e[99]!==B?(H=s.jsxs("div",{className:"space-y-2",children:[je,V,B]}),e[98]=V,e[99]=B,e[100]=H):H=e[100];let L;e[101]!==F||e[102]!==H?(L=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F,H]}),e[101]=F,e[102]=H,e[103]=L):L=e[103];let pe;e[104]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(d,{children:"Album Type *"}),e[104]=pe):pe=e[104];const $e=l.has_sub_albums?"sub_albums":"direct";let $;e[105]!==a?($=i=>a("has_sub_albums",i==="sub_albums"),e[105]=a,e[106]=$):$=e[106];let Ne;e[107]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{value:"direct",id:"direct"}),s.jsx(d,{htmlFor:"direct",children:"Direct Images"})]}),e[107]=Ne):Ne=e[107];let ye;e[108]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{value:"sub_albums",id:"sub_albums"}),s.jsx(d,{htmlFor:"sub_albums",children:"With Sub Albums"})]}),e[108]=ye):ye=e[108];let U;e[109]!==$e||e[110]!==$?(U=s.jsxs("div",{className:"space-y-2",children:[pe,s.jsxs(ss,{value:$e,onValueChange:$,children:[Ne,ye]})]}),e[109]=$e,e[110]=$,e[111]=U):U=e[111];let Ce;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ce=s.jsx(d,{htmlFor:"order",children:"Order"}),e[112]=Ce):Ce=e[112];let O;e[113]!==a?(O=i=>a("order",parseInt(i.target.value)||0),e[113]=a,e[114]=O):O=e[114];let W;e[115]!==l.order||e[116]!==O?(W=s.jsxs("div",{className:"space-y-2",children:[Ce,s.jsx(n,{id:"order",type:"number",value:l.order,onChange:O})]}),e[115]=l.order,e[116]=O,e[117]=W):W=e[117];let X;e[118]!==a?(X=i=>a("is_active",i),e[118]=a,e[119]=X):X=e[119];let q;e[120]!==l.is_active||e[121]!==X?(q=s.jsx(es,{id:"is_active",checked:l.is_active,onCheckedChange:X}),e[120]=l.is_active,e[121]=X,e[122]=q):q=e[122];let Se;e[123]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsx(d,{htmlFor:"is_active",children:"Active"}),e[123]=Se):Se=e[123];let J;e[124]!==q?(J=s.jsxs("div",{className:"flex items-center space-x-2",children:[q,Se]}),e[124]=q,e[125]=J):J=e[125];let K;e[126]!==W||e[127]!==J?(K=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[W,J]}),e[126]=W,e[127]=J,e[128]=K):K=e[128];let M;e[129]!==A||e[130]!==L||e[131]!==U||e[132]!==K?(M=s.jsxs(ee,{children:[ve,s.jsxs(se,{className:"space-y-4",children:[A,L,U,K]})]}),e[129]=A,e[130]=L,e[131]=U,e[132]=K,e[133]=M):M=e[133];let Q;e[134]!==Be||e[135]!==Re||e[136]!==Te||e[137]!==l.has_sub_albums||e[138]!==l.images||e[139]!==l.sub_albums||e[140]!==He||e[141]!==ze||e[142]!==Ve||e[143]!==j||e[144]!==g||e[145]!==f?(Q=l.has_sub_albums?s.jsxs(ee,{children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(We,{children:"Sub Albums *"}),s.jsxs(h,{type:"button",onClick:Re,size:"sm",children:[s.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Add Sub Album"]})]})}),s.jsx(se,{className:"space-y-4",children:l.sub_albums.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No sub albums added yet."}):l.sub_albums.map((i,t)=>s.jsx(ee,{children:s.jsxs(se,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold",children:["Sub Album ",t+1]}),s.jsx(h,{type:"button",variant:"outline",size:"sm",onClick:()=>ze(t),children:s.jsx(ls,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Title *"}),s.jsx(n,{value:i.title,onChange:r=>g(t,"title",r.target.value),placeholder:"Enter sub album title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Slug"}),s.jsx(n,{value:i.slug,onChange:r=>g(t,"slug",r.target.value),placeholder:"auto-generated"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Cover Virtual Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:i.cover_virtual_image_id,onChange:r=>g(t,"cover_virtual_image_id",r.target.value),placeholder:"Google Drive ID"}),s.jsx(v,{onPick:r=>g(t,"cover_virtual_image_id",r)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Cover Real Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:i.cover_real_image_id,onChange:r=>g(t,"cover_real_image_id",r.target.value),placeholder:"Google Drive ID"}),s.jsx(v,{onPick:r=>g(t,"cover_real_image_id",r)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(d,{children:"Images"}),s.jsxs(h,{type:"button",onClick:()=>Te(t),size:"sm",variant:"outline",children:[s.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),i.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No images added"}):s.jsx("div",{className:"space-y-2",children:i.images.map((r,m)=>s.jsx(ee,{children:s.jsxs(se,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",m+1]}),s.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ve(t,m),children:s.jsx(qe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:r.virtual_image_id,onChange:u=>f(t,m,"virtual_image_id",u.target.value),placeholder:"Virtual Image ID"}),s.jsx(v,{onPick:u=>f(t,m,"virtual_image_id",u)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:r.real_image_id,onChange:u=>f(t,m,"real_image_id",u.target.value),placeholder:"Real Image ID"}),s.jsx(v,{onPick:u=>f(t,m,"real_image_id",u)})]})]})]})},m))})]})]})},t))})]}):s.jsxs(ee,{children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(We,{children:"Images *"}),s.jsxs(h,{type:"button",onClick:Be,size:"sm",children:[s.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Add Image"]})]})}),s.jsx(se,{className:"space-y-4",children:l.images.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No images added yet."}):l.images.map((i,t)=>s.jsx(ee,{children:s.jsxs(se,{className:"pt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Image ",t+1]}),s.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>He(t),children:s.jsx(qe,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Virtual Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:i.virtual_image_id,onChange:r=>j(t,"virtual_image_id",r.target.value),placeholder:"Google Drive ID"}),s.jsx(v,{onPick:r=>j(t,"virtual_image_id",r)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{children:"Real Image ID *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(n,{value:i.real_image_id,onChange:r=>j(t,"real_image_id",r.target.value),placeholder:"Google Drive ID"}),s.jsx(v,{onPick:r=>j(t,"real_image_id",r)})]})]})]})]})},t))})]}),e[134]=Be,e[135]=Re,e[136]=Te,e[137]=l.has_sub_albums,e[138]=l.images,e[139]=l.sub_albums,e[140]=He,e[141]=ze,e[142]=Ve,e[143]=j,e[144]=g,e[145]=f,e[146]=Q):Q=e[146];let De;e[147]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(h,{type:"button",variant:"outline",onClick:as,children:"Cancel"}),e[147]=De):De=e[147];const Ue=ie?"Updating...":"Update Album";let Y;e[148]!==ie||e[149]!==Ue?(Y=s.jsxs("div",{className:"flex justify-end gap-2",children:[De,s.jsx(h,{type:"submit",disabled:ie,children:Ue})]}),e[148]=ie,e[149]=Ue,e[150]=Y):Y=e[150];let Z;e[151]!==Fe||e[152]!==M||e[153]!==Q||e[154]!==Y?(Z=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[he,s.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[M,Q,Y]})]}),e[151]=Fe,e[152]=M,e[153]=Q,e[154]=Y,e[155]=Z):Z=e[155];let we;return e[156]!==p||e[157]!==Z?(we=s.jsxs(Ze,{breadcrumbs:Ke,children:[p,Z]}),e[156]=p,e[157]=Z,e[158]=we):we=e[158],we}function as(){return window.history.back()}function is(o){return{virtual_image_id:o.virtual_image_id,real_image_id:o.real_image_id}}function ts(o){return{slug:o.slug,title:o.title,cover_virtual_image_id:o.cover_virtual_image_id,cover_real_image_id:o.cover_real_image_id,images:o.images.map(rs)}}function rs(o){return{virtual_image_id:o.virtual_image_id,real_image_id:o.real_image_id}}export{Ns as default};
